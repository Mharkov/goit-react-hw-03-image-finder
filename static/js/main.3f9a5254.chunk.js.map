{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","services/image-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","key","getImages","query","page","path","axios","get","Searchbar","state","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","console","log","className","style","this","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","placeholder","onChange","Component","ImageGalleryItem","url","alt","openModal","modalImage","onClick","src","ImageGalleryItem_image","ImageGallery","images","map","el","webformatURL","tags","largeImageURL","id","Button","changePage","ButtonWrapper","LoaderComponent","loader","color","height","width","timeout","MODAL_ROOT","document","querySelector","Modal","handleKeyPress","code","closeModal","handleBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","App","isModalOpen","isLoading","error","API","then","resData","prevState","data","hits","catch","finally","scrollTo","top","body","scrollHeight","behavior","prevProps","Loader","length","ReactDom","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3f9a5254.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2JvzP\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3RTNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonWrapper\":\"Button_ButtonWrapper__2KOsz\",\"Button\":\"Button_Button__3LN8m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__ylepp\",\"Modal\":\"Modal_Modal__P3kB7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__27Kcx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__308Tu\"};","import axios from 'axios';\r\n\r\nconst key = '19800508-643be2b5e42611bb65677ceaa';\r\n\r\nexport const getImages = (query = '', page = 1) => {\r\n  const path = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${key}`;\r\n  return axios.get(path);\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n    console.log(this.state);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={style.SearchForm}>\r\n          <button type=\"submit\" className={style.SearchForm_button}>\r\n            <span className={style.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={style.SearchForm_input}\r\n            type=\"text\"\r\n            value={this.query}\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ url, alt, openModal, modalImage }) => {\r\n  return (\r\n    <div>\r\n      <li\r\n        onClick={() => openModal(modalImage)}\r\n        className={style.ImageGalleryItem}\r\n      >\r\n        <img src={url} alt={alt} className={style.ImageGalleryItem_image} />\r\n      </li>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  openModal: PropTypes.func.isRequired,\r\n  modalImage: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n// const ImageGalleryItem = ({ id, webformat, tags, showLargeImage }) => {\r\n//   return (\r\n//     <li id={id} onClick={() => showLargeImage(id)}>\r\n//       <img\r\n//         src={webformat}\r\n//         alt={tags}\r\n//         // className={styles.ImageGalleryItem_image}\r\n//       />\r\n//     </li>\r\n//   );\r\n// };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport style from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <ul className={style.ImageGallery}>\r\n      {images.map((el) => (\r\n        <ImageGalleryItem\r\n          key={el.id}\r\n          url={el.webformatURL}\r\n          alt={el.tags}\r\n          modalImage={el.largeImageURL}\r\n          openModal={openModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\n// const ImageGallery = ({ images, linkBigImage, openModal }) => {\r\n//   const showLargeImage = (id) => {\r\n//     linkBigImage(id);\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <ul>\r\n//         {images.map((el) => (\r\n//           <ImageGalleryItem\r\n//             id={el.id}\r\n//             webformat={el.webformatURL}\r\n//             tags={el.tags}\r\n//             modalImage={el.largeImageURL}\r\n//             showLargeImage={showLargeImage}\r\n//           />\r\n//         ))}\r\n//       </ul>\r\n//     </div>\r\n//   );\r\n// };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Button.module.css';\r\n\r\nconst Button = ({ changePage }) => (\r\n  <div className={style.ButtonWrapper}>\r\n    <button onClick={changePage} type=\"button\" className={style.Button}>\r\n      Load More\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  changePage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport style from './Loader.module.css';\r\n\r\nconst LoaderComponent = () => {\r\n  return (\r\n    <div className={style.loader}>\r\n      <Loader\r\n        type=\"Circles\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={4000} // 3 secs\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderComponent;\r\n","import React, { Component } from 'react';\r\nimport style from './Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    closeModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return createPortal(\r\n      <div onClick={this.handleBackdropClick} className={style.Overlay}>\r\n        <div className={style.Modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport * as API from './services/image-api';\nimport Searchba from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    isModalOpen: false,\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.changePage();\n    }\n  }\n\n  onSubmit = (query) => {\n    this.setState({\n      query,\n      images: [],\n      page: 1,\n      error: null,\n    });\n  };\n\n  changePage = () => {\n    const { query, page } = this.state;\n    this.setState({ isLoading: true });\n\n    API.getImages(query, page)\n      .then((resData) => {\n        this.setState((prevState) => ({\n          page: prevState.page + 1,\n          images: [...prevState.images, ...resData.data.hits],\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.body.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  openModal = (modalImage) => this.setState({ isModalOpen: true, modalImage });\n\n  closeModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { images, isModalOpen, modalImage, isLoading, error } = this.state;\n\n    return (\n      <>\n        {error && <h1>Ошибка</h1>}\n        <Searchba onSubmit={this.onSubmit} />\n        {isLoading && <Loader />}\n        <ImageGallery images={images} openModal={this.openModal} />\n        {images.length > 0 && <Button changePage={this.changePage} />}\n\n        {isModalOpen && (\n          <Modal modalImage={modalImage} closeModal={this.closeModal}>\n            <img src={modalImage} alt=\"\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport App from './App';\n\nReactDom.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__35ySH\",\"SearchForm\":\"Searchbar_SearchForm__f8VEv\",\"SearchForm_button\":\"Searchbar_SearchForm_button__qCIJv\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3PbIS\",\"SearchForm_input\":\"Searchbar_SearchForm_input__BnsKo\"};"],"sourceRoot":""}